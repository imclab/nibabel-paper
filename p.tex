%% BioMed_Central_Tex_Template_v1.06
%-*- mode: latex; fill-column: 70 -*-
% ex: set sts=4 ts=4 sw=4 et tw=70:
%  bmc_article.tex            ver: 1.06 %
%                                       %

%%IMPORTANT: do not delete the first line of this template
%%It must be present to enable the BMC Submission system to 
%%recognise this template!!

\documentclass[10pt]{bmc_article}

% Load packages
\usepackage{cite} % Make references as [1-4], not [1,2,3,4]
\usepackage{url}  % Formatting web addresses  
\usepackage{ifthen}  % Conditional 
\usepackage{multicol}   %Columns
\usepackage[utf8]{inputenc} %unicode support
%\usepackage[applemac]{inputenc} %applemac support if unicode package fails
%\usepackage[latin1]{inputenc} %UNIX support if unicode package fails
\urlstyle{rm}
% for code snippets
\usepackage{fancyvrb}
\usepackage{color}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%	
%%                                             %%
%%  If you wish to display your graphics for   %%
%%  your own use using includegraphic or       %%
%%  includegraphics, then comment out the      %%
%%  following two lines of code.               %%   
%%  NB: These line *must* be included when     %%
%%  submitting to BMC.                         %% 
%%  All figure files must be submitted as      %%
%%  separate graphics through the BMC          %%
%%  submission process, not included in the    %% 
%%  submitted article.                         %% 
%%                                             %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%                     
\def\includegraphic{}
\def\includegraphics{}



\setlength{\topmargin}{0.0cm}
\setlength{\textheight}{21.5cm}
\setlength{\oddsidemargin}{0cm} 
\setlength{\textwidth}{16.5cm}
\setlength{\columnsep}{0.6cm}

\newboolean{publ}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                              %%
%% You may change the following style settings  %%
%% Should you wish to format your article       %%
%% in a publication style for printing out and  %%
%% sharing with colleagues, but ensure that     %%
%% before submitting to BMC that the style is   %%
%% returned to the Review style setting.        %%
%%                                              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%Review style settings
%\newenvironment{bmcformat}{\begin{raggedright}\baselineskip20pt\sloppy\setboolean{publ}{false}}{\end{raggedright}\baselineskip20pt\sloppy}

%Publication style settings
%\newenvironment{bmcformat}{\fussy\setboolean{publ}{true}}{\fussy}

%New style setting
\newenvironment{bmcformat}{\baselineskip20pt\sloppy\setboolean{publ}{false}}{\baselineskip20pt\sloppy}

% howto cite projects
\newcommand{\purl}[2]{#1\footnote{\url{#2}}}

% for code snippets
% TODO: Need to embed this file for the final submission
\input{code.sty}

% Begin ...
\begin{document}
\begin{bmcformat}

\title{NiBabel - Access a cacophony of neuro-imaging file formats}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the authors here                   %%
%%                                          %%
%% Ensure \and is entered between all but   %%
%% the last two authors. This will be       %%
%% replaced by a comma in the final article %%
%%                                          %%
%% Ensure there are no trailing spaces at   %% 
%% the ends of the lines                    %%     	
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\author{Matthew~Brett\correspondingauthor$^1$%
         \email{Matthew Brett\correspondingauthor - matthew.brett@gmail.com}
       \and
         Stephan~Gerhard$^2$ %
         \email{Stephan Gerhard - connectome@unidesign.ch}%
       and
         Michael~Hanke$^3$%
         \email{Michael Hanke - michael.hanke@gmail.com}%
      }

\address{%
    \iid(1)Helen Wills Neuroscience Institute, University of California at
Berkeley, USA\\
    \iid(2)Institute of Neuroinformatics, University Zurich and Swiss Federal Institute of Technology, Zurich, Switzerland\\
    \iid(3)Department of Experimental Psychology, University of Magdeburg,
Magdeburg, Germany}%

\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Abstract begins here                 %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% This should not exceed 350 words and should be structured into separate
% sections headed Background, Results, Conclusions. Please do not use
% abbreviations or references in the abstract.

\begin{abstract}
        % Do not use inserted blank lines (ie \\) until main body of text.
Text for this section.        
\end{abstract}


% Three to ten keywords representing the main content of the article should be
% given.
\paragraph{Keywords}
neuro-imaging, data formats


\ifthenelse{\boolean{publ}}{\begin{multicols}{2}}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Main Body begins here                %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% The Background section should be written in a way that is accessible to
% researchers without specialist knowledge in that area and must clearly state
% - and, if helpful, illustrate - the background to the research and its aims.
% It should clearly described the relevant context and the specific issue
% which the software described is intended to address.
\section{Background}

\begin{itemize}
  \item General problem statement: why we need it, what else is there and did not di the job
 \item historical background (PyNifti)
 \item neuroimaging IO library as basic to build the Python neuroimaging tool stack
 \item embeddedness in the NIPY project, collaborative effort
 \item exposing NumPy arrays
\end{itemize}


% This should include a description of the overall architecture of the software
% implementation, along with details of any critical issues and how they were
% addressed.
\section{Implementation}

\subsection{Collaborative Software Development}

Git, GitHub, Code Reviews, Mailinglist, ...

% The Results and Discussion may be combined into a single section or presented
% separately. They may also be broken into subsections with short, informative
% headings. In any case what should be described is the functionality of the
% software together with data on how its performance and functionality compare
% with and improve on functionally similar existing software. There should then
% be a discussion of the intended use of the software, and the benefits that
% are envisioned together, if possible, with an outline for the planned future
% development of new features.
\section{Results and Discussion}

Release managment, (Neuro)Debian/PyPI, Documentation, ...

\subsection{Supported File Formats}

\subsubsection{NifTI1}

\subsubsection{ANALYZE}

\subsubsection{GiFTI}

Similar to the standarization of volume-based neuroimaging datasets with NifTI1,
the GiFTI format aims to standardize surface-based neuroimaging datasets.
GiFTI stands for Geometry Subcommittee of the Neuroimaging Informatics Technology
Initiative.

The GiFTI standard contributed to the interoperability of surface-based software tools.
A number of software tools support the standard, e.g. Freesurfer, BrainVisa, Caret, ...
(TODO: references)

Several APIs are provided for the languages C, Python-bindings to the C library and for Matlab.

Nibabel aims to be a pure Python library without many dependencies. The parsing and
writing of the XML-based GiFTI files can be implemented using only Python Standard Library,
without requiring a dependency on the GiFTI C library. Performance in terms of reading/writing
files is comparable (Figure?)

Specifications and updates are published on the GiFTI website www.nitrc.org/projects/gifti

\subsubsection{PAR/REC}

\subsubsection{MINC}

\subsubsection{TrackVis}

\subsubsection{Freesurfer}

\subsubsection{Data Format Tools}

\subsubsection{DICOM}

\subsection{Future development}

\subsubsection{NifTI2}

\subsubsection{CIFTI}


\subsection{Code examples}
% demo code snippet
\input{img_access.py.tex}




% This should state clearly the main conclusions of the article and give a
% clear explanation of the importance and relevance of the software.
\section{Conclusions}

Software projects that depend on or use Nibabel.

Connectome Mapper
Connectome Viewer
Data Format Tools
DiPy
NiPy
NiPyPE
Nitime
PyHRF
PyLocator
PyMVPA \cite{HHS+09b}
pyPET
PyROI
PySurfer


\section{Availability and requirements}
\begin{description}
  \item[Project name] NiBabel
  \item[Project home page] \url{http://www.nipy.org/nibabel}
  \item[Operating system(s)] Platform independent
  \item[Programming language] Python
  \item[Other requirements]
  \item[License] MIT
\end{description}

\section{Competing interests}

The authors declare that they have no competing interests.


\bigskip

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Author's contributions}
    Text for this section \ldots

    

%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Acknowledgements}
  \ifthenelse{\boolean{publ}}{\small}{}
  Thanks the NumPy, ScipPy, \ldots folks.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                  The Bibliography                       %%
%%                                                         %%              
%%  Bmc_article.bst  will be used to                       %%
%%  create a .BBL file for submission, which includes      %%
%%  XML structured for BMC.                                %%
%%  After submission of the .TEX file,                     %%
%%  you will be prompted to submit your .BBL file.         %%
%%                                                         %%
%%                                                         %%
%%  Note that the displayed Bibliography will not          %% 
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.                %% 
%%                                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
{\ifthenelse{\boolean{publ}}{\footnotesize}{\small}
 \bibliographystyle{bmc_article}  % Style BST file
  \bibliography{references} }     % Bibliography file (usually '*.bib' ) 

%%%%%%%%%%%

\appendix

\ifthenelse{\boolean{publ}}{\end{multicols}}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Figures                       %%
%%                               %%
%% NB: this is for captions and  %%
%% Titles. All graphics must be  %%
%% submitted separately and NOT  %%
%% included in the Tex document  %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%
%% Do not use \listoffigures as most will included as separate files

\section*{Figures}
  \subsection*{Figure 1 - Sample figure title}
      A short description of the figure content
      should go here.

  \subsection*{Figure 2 - Sample figure title}
      Figure legend text.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Tables                        %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Use of \listoftables is discouraged.
%%
\section*{Tables}
  \subsection*{Table 1 - Sample table title}
    Here is an example of a \emph{small} table in \LaTeX\ using  
    \verb|\tabular{...}|. This is where the description of the table 
    should go. \par \mbox{}
    \par
    \mbox{
      \begin{tabular}{|c|c|c|}
        \hline \multicolumn{3}{|c|}{My Table}\\ \hline
        A1 & B2  & C3 \\ \hline
        A2 & ... & .. \\ \hline
        A3 & ..  & .  \\ \hline
      \end{tabular}
      }



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Additional Files              %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{Additional Files}
  \subsection*{Additional file 1 --- Sample additional file title}
    Additional file descriptions text (including details of how to
    view the file, if it is in a non-standard format or the file extension).  This might
    refer to a multi-page table or a figure.

  \subsection*{Additional file 2 --- Sample additional file title}
    Additional file descriptions text.


\end{bmcformat}
\end{document}
